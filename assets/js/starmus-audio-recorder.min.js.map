{"version":3,"file":"starmus-audio-recorder.min.js","names":["document","addEventListener","container","querySelector","recordButton","getElementById","pauseButton","playButton","timerDisplay","audioPlayer","fileInput","uuidField","levelBar","MAX_RECORDING_TIME","mediaRecorder","timerInterval","segmentStartTime","audioContext","analyser","dataArray","sourceNode","animationFrameId","audioChunks","currentStream","isRecording","isPaused","accumulatedElapsedTime","animateBar","getByteFrequencyData","volume","reduce","a","b","length","percent","Math","min","style","width","setAttribute","round","requestAnimationFrame","stopAnimationBarLoop","cancelAnimationFrame","formatTime","ms","totalSeconds","floor","minutes","seconds","String","padStart","updateTimerColor","remainingTimeMs","classList","remove","color","add","updateTimerDisplay","currentSegmentElapsedTime","Date","now","totalRecordedTime","remainingTime","max","textContent","stopRecording","stopTimerAndResetDisplay","clearInterval","updateStatus","msg","status","handleRecordingReady","disabled","src","window","location","href","handleDataAvailable","event","data","size","push","handleStop","getTracks","forEach","track","stop","mimeType","fileType","includes","alert","audioBlob","Blob","type","audioUrl","URL","createObjectURL","attachAudioToForm","fileName","generateUUID","crypto","randomUUID","getRandomValues","buffer","Uint8Array","U","i","toString","error","d","getTime","performance","replace","c","r","random","value","file","File","dataTransfer","DataTransfer","items","files","async","startRecording","navigator","mediaDevices","getUserMedia","MediaRecorder","selectedMimeType","find","isTypeSupported","stream","audio","ondataavailable","onstop","start","startTimerForNewRecording","setInterval","AudioContext","webkitAudioContext","close","createAnalyser","fftSize","frequencyBinCount","createMediaStreamSource","connect","userMessage","name","state","resume","resumeTimer","pause","pauseTimer","play","setupRecorder","permissions","query","permissionStatus","updateButtonOnPermission","onchange"],"sources":["0"],"mappings":"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"}