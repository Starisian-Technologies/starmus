{"version":3,"file":"starmus-audio-recorder.min.js","names":["document","addEventListener","recordButton","getElementById","pauseButton","playButton","timerDisplay","audioPlayer","audioAttachmentFieldId","MAX_RECORDING_TIME","mediaRecorder","startTime","timerInterval","audioChunks","isRecording","isPaused","currentStream","setAttribute","levelBar","audioContext","analyser","dataArray","sourceNode","updateTimerDisplay","elapsedTime","Date","now","remainingTime","Math","max","minutes","floor","seconds","formattedTime","String","padStart","textContent","updateTimerColor","style","color","stopRecording","startTimer","setInterval","stopTimer","clearInterval","handleRecordingReady","disabled","src","window","location","href","handleDataAvailable","event","data","size","push","handleStop","length","getTracks","forEach","track","stop","audioBlob","fileType","mimeType","includes","Blob","type","alert","audioUrl","URL","createObjectURL","attachAudioToForm","fileExtension","file","File","dataTransfer","DataTransfer","items","add","fileInput","files","state","animateBar","getByteFrequencyData","volume","reduce","a","b","percent","min","height","requestAnimationFrame","async","startRecording","navigator","mediaDevices","getUserMedia","MediaRecorder","consentCheckbox","checked","supportedMimeTypes","selectedMimeType","isTypeSupported","stream","audio","ondataavailable","onstop","start","AudioContext","close","webkitAudioContext","createAnalyser","fftSize","Uint8Array","frequencyBinCount","createMediaStreamSource","connect","error","userMessage","name","pause","resume","play","setupRecorder","permissions","query","permissionStatus","updateButtonBasedOnPermission","onchange"],"sources":["0"],"mappings":"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"}